<html>

<head>
	<title>Grout Wavetoy Demo</title>
	<style type="text/css" media="all">@import "css/wavetoy.css";</style>
	<script type="text/javascript" src="../../src/grout.js"></script>
	<script type="text/javascript" src="js/wavetoy.js"></script>
</head>

<body style='background-color: #333333'>

<div id='content'>

<script>
alert('Use Chrome or Safari for this demo.')

wavetoy_init()

window.onload = function() {
	grout.doc_get('plot_logic').value = DEFAULT_PLOT_LOGIC
	refresh_waves()
}

function tweak_plot_logic() {

	var result_message = grout.doc_get('result_message')

	try {
		set_plot_logic(grout, grout.doc_get('plot_logic').value)
		result_message.innerHTML = 'Logic updated.'
	}
	catch(e) {
		result_message.innerHTML = 'Error in logic.'
	}
}

function refresh_waves() {

	wavetoy({
		'number_of_waves': grout.doc_get('number_of_waves').value,
		'tile_size': grout.doc_get('tile_size').value,
		'number_of_iterations_to_show': grout.doc_get('number_of_iterations_to_show').value,
		'steps_between_iterations': grout.doc_get('steps_between_iterations').value,
	})
	grout.doc_get('result_message').innerHTML = 'Waves created.'
}
</script>

<form>
	<p>
		Y Calculation:
		<input type='button' value='Tweak' onClick='javascript:tweak_plot_logic()'>
	</p>
	<p>
		<textarea id='plot_logic' rows='3' cols='60'></textarea>
	</p>
	<div id='variable_legend'>
		<ul>
			<li><em>x:</em> horizontal plot position</li>
			<li><em>step:</em> is a continually incrementing number</li>
			<li><em>wavelength:</em> is a random number for each wave</li>
			<li><em>amplitude:</em> is a random number, that oscillates, for each wave</li>
			<li><em>sin</em>, <em>cos</em>, <em>tan</em>, <em>abs</em>: functions
		</ul>
	</div>
	<p>
		Waves: <input type='text' id='number_of_waves' size='1' value='2'>
		Tile Width: <select id='tile_size'>
			<option value='1'>1</option>
			<option value='2' selected>2</option>
			<option value='4'>4</option>
			<option value='8'>8</option>
		</select>
	</p>
	<p>
		Iterations: <input type='text' id='number_of_iterations_to_show' size='1' value='7'>
		Steps Between: <input type='text' id='steps_between_iterations' size='1' value='2'>
		<input type='button' value='New Waves' onClick='javascript:refresh_waves()'>
	</p>
	<p>
		<span id='result_message'></span>
	</p>

	<h3>Use Chrome or Safari for this demo. Will make Firefox cry.</h3>
</form>

</div id='content'>

</body>
</html>
